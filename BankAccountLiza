/* Final Project GUI
   Name: Liza Carondoy
   Date: December 11, 2025 */

import javax.swing.SwingUtilities;

public class LizaBankMain {
    public static void main(String[] args) {
        SwingUtilities.invokeLater(() -> new BankAccountLiza());
    }
}


/* Final Project GUI
   Name: Liza Carondoy
   Date: December 11, 2025 */

import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.text.DecimalFormat;

public class BankAccountLiza extends JFrame implements ActionListener {

    private JTextField amountField;
    private JButton depositButton;
    private JButton withdrawButton;
    private JButton balanceButton;
    private JTextArea messageArea;

    private double balance = 0.0;
    private final DecimalFormat moneyFormat = new DecimalFormat("#,##0.00");

    static class InsufficientFundsException extends Exception {
        public InsufficientFundsException(String message) {
            super(message);
        }
    }

    public BankAccountLiza() {

        // Remove OS title bar
        setUndecorated(true);

        Color darkBlue = new Color(0, 51, 102);
        Color white = Color.WHITE;

        // ------------------- CUSTOM TITLE BAR -------------------
        JPanel titleBar = new JPanel(new BorderLayout());
        titleBar.setBackground(darkBlue);

        JLabel titleLabel = new JLabel("   Liza Bank Account Management System");
        titleLabel.setForeground(white);
        titleLabel.setFont(new Font("Arial", Font.BOLD, 14));
        titleBar.add(titleLabel, BorderLayout.WEST);

        JButton closeBtn = new JButton("X");
        closeBtn.setBackground(darkBlue);
        closeBtn.setForeground(white);
        closeBtn.setBorderPainted(false);
        closeBtn.setFocusPainted(false);
        closeBtn.setPreferredSize(new Dimension(45, 25));
        closeBtn.addActionListener(e -> System.exit(0));

        titleBar.add(closeBtn, BorderLayout.EAST);

        // ------------------- MAIN INPUT PANEL -------------------
        JLabel amountLabel = new JLabel("Amount:");
        amountField = new JTextField(10);

        JPanel amountPanel = new JPanel(new FlowLayout());
        amountPanel.add(amountLabel);
        amountPanel.add(amountField);

        // ------------------- BUTTON PANEL -------------------
        depositButton = new JButton("Deposit");
        withdrawButton = new JButton("Withdraw");
        balanceButton = new JButton("Check Balance");

        JButton[] buttons = { depositButton, withdrawButton, balanceButton };

        for (JButton btn : buttons) {
            btn.setBackground(darkBlue);
            btn.setForeground(white);
            btn.setOpaque(true);
            btn.setBorderPainted(false);
            btn.setFocusPainted(false);
        }

        depositButton.addActionListener(this);
        withdrawButton.addActionListener(this);
        balanceButton.addActionListener(this);

        JPanel buttonPanel = new JPanel(new FlowLayout());
        buttonPanel.add(depositButton);
        buttonPanel.add(withdrawButton);
        buttonPanel.add(balanceButton);

        // ------------------- MESSAGE AREA -------------------
        messageArea = new JTextArea(8, 30);
        messageArea.setEditable(false);
        messageArea.setLineWrap(true);
        messageArea.setWrapStyleWord(true);

        JScrollPane scrollPane = new JScrollPane(
                messageArea,
                JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED,
                JScrollPane.HORIZONTAL_SCROLLBAR_NEVER
        );

        // ------------------- LAYOUT -------------------
        JPanel mainPanel = new JPanel(new BorderLayout(5, 5));
        mainPanel.add(amountPanel, BorderLayout.NORTH);
        mainPanel.add(buttonPanel, BorderLayout.CENTER);
        mainPanel.add(scrollPane, BorderLayout.SOUTH);

        JPanel root = new JPanel(new BorderLayout());
        root.add(titleBar, BorderLayout.NORTH);
        root.add(mainPanel, BorderLayout.CENTER);

        setContentPane(root);

        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setSize(380, 240);
        setLocationRelativeTo(null);
        setVisible(true);

        showMessage("Current balance: ₱" + moneyFormat.format(balance));
    }

    // ------------------- EVENT HANDLER -------------------
    @Override
    public void actionPerformed(ActionEvent e) {
        Object source = e.getSource();

        try {
            if (source == depositButton) {
                deposit();
            } else if (source == withdrawButton) {
                withdraw();
            } else if (source == balanceButton) {
                checkBalance();
            }
        } catch (NumberFormatException ex) {
            showError("Invalid amount. Please enter a number.");
        } catch (IllegalArgumentException ex) {
            showError(ex.getMessage());
        } catch (InsufficientFundsException ex) {
            showError(ex.getMessage());
        } catch (Exception ex) {
            showError("An unexpected error occurred: " + ex.getMessage());
        }
    }

    // ------------------- LOGIC METHODS -------------------
    private double parseAmount() {
        String text = amountField.getText().trim();

        if (text.isEmpty())
            throw new IllegalArgumentException("Amount is required.");

        double amount = Double.parseDouble(text);

        if (amount <= 0)
            throw new IllegalArgumentException("Amount must be positive.");

        return amount;
    }

    private void deposit() {
        double amount = parseAmount();
        balance += amount;
        showMessage("Deposited: ₱" + moneyFormat.format(amount) +
                "\nNew balance: ₱" + moneyFormat.format(balance));
        amountField.setText("");
    }

    private void withdraw() throws InsufficientFundsException {
        double amount = parseAmount();

        if (amount > balance)
            throw new InsufficientFundsException("Insufficient funds.");

        balance -= amount;
        showMessage("Withdrew: ₱" + moneyFormat.format(amount) +
                "\nNew balance: ₱" + moneyFormat.format(balance));
        amountField.setText("");
    }

    private void checkBalance() {
        showMessage("Current balance: ₱" + moneyFormat.format(balance));
    }

    private void showMessage(String message) {
        messageArea.setText(message);
        messageArea.setFont(new Font("Arial", Font.PLAIN, 14)); 

    }

    private void showError(String errorMessage) {
        JOptionPane.showMessageDialog(this, errorMessage, "Error", JOptionPane.ERROR_MESSAGE);
        messageArea.setText("Error: " + errorMessage);
    }
}
